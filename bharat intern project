<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/acc.css" />
    <?php require "./includes/links.php" ?>
    <title>Confirmation | Account</title>
</head>

<body>
    <?php require "./includes/nav.php" ?>
    <?php require "./includes/db.php" ?>

    <div id="container">
        <?php
        $email = $_COOKIE['cms_username'];
        $password = $_COOKIE['cms_password'];

        $email = mysqli_real_escape_string($con, $email);
        $password = mysqli_real_escape_string($con, $password);
        $query = "select * from users where email='$email' and password='$password';";
        $data = mysqli_query($con, $query);
        $exist = (mysqli_num_rows($data) == 0) ? "false" : "true";

        echo $exist;
        if ($exist == 'true') {
            $rem = "<script>document.write(localStorage.getItem('cms_passwordRem'));</script>";
            if ($rem == 'true') {
                echo "<script>
                            document.localStorage.setItem('cms_password', $password);
                        </script>";
            } else {
                echo "<script>
                            document.localStorage.remove('cms_password');
                    </script>";
            }

            $requestPage = $_COOKIE['requestPage'];
            if ($requestPage == 'create') {
                echo "<script>window.open('./createPost', '_self')</script>";
            } else if ($requestPage == 'profile') {
                echo "<script>window.open('./profile', '_self')</script>";
            }
        } else {
            echo '<script>alert("Invalid email or password!\nIf you forget your password then go to forgot password.")</script>';
            echo "<script>window.open('./account-login', '_self')</script>";
        }
        setcookie('cms_password', "", time() - 3600);
        ?>
        <div id="signInContainer" class="container">
            <div id="LogInTitle" class="containerTitle">ERROR</div>
        </div>
    </div>
</body>
<script>
    console.log(document.cookie);
</script>

</html>
 44 changes: 44 additions & 0 deletions44  
account-login.php
@@ -0,0 +1,44 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/acc.css" />
  <?php require "./includes/links.php" ?>
  <title>Sign In | Dashboard</title>
</head>

<body>
  <?php require "./includes/nav.php" ?>
  <div id="container">
    <div id="signInContainer" class="container">
      <div id="LogInTitle" class="containerTitle">Sign In</div>
      <div id="signInForm" class="containerForm">
        <div class="usernameTitle">Email</div>
        <input type="text" id="username" placeholder="email" />
        <div class="passwordTitle">Password</div>
        <input type="password" id="password" placeholder="password" /> <br />
        <div class="remMe">
          <input type="checkbox" id="rememberme" />
          <label for="rememberme">Remember me</label>
        </div>
        <br />
        <div class="btnContainer">
          <button type="submit" id="signInBtn" class="submitBtn">Sign In</button>
          <button type="submit" id="createAccSlideBtn" class="nextBtn">Create Account</button>
        </div>
        <button id="forgottenPwd">Forgotten Password?</button>
      </div>
    </div>
  </div>

  <?php require "./includes/footer.php" ?>
</body>
<script src="./js/feedback.js"></script>
<script src="./js/navBtn.js"></script>
<script src="./js/account-login.js"></script>

</html>
 38 changes: 38 additions & 0 deletions38  
account-signup.php
@@ -0,0 +1,38 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/acc.css" />
  <?php require "./includes/links.php" ?>
  <title>Sign Up | Dashboard</title>
</head>

<body>
  <?php require "./includes/nav.php" ?>

  <div id="container">
    <div id="signUpContainer" class="container">
      <div id="signUpTitle" class="containerTitle">Sign Up</div>
      <div id="signUpForm" class="containerForm">
        <div class="usernameTitle">Name</div>
        <input type="text" id="fullname" placeholder="email" />
        <div class="phoneTitleTitle">Phone</div>
        <input type="text" id="phone" placeholder="phone" /> <br />
        <br />
        <div class="btnContainer">
          <button type="submit" id="signUp" class="submitBtn">Proceed</button>
          <button type="submit" id="loginAccSlideBtn" class="nextBtn">Have an account?</button>
        </div>
      </div>
    </div>
  </div>

  <?php require "./includes/footer.php" ?>
</body>
<script src="./js/feedback.js"></script>
<script src="./js/account-signup.js"></script>
</html>
 84 changes: 84 additions & 0 deletions84  
category.php
@@ -0,0 +1,84 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <?php require "./includes/links.php" ?>
  <title>CMS Project</title>
</head>

<body>
  <?php require "includes/db.php" ?>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>

  <div id="main">
    <!--content -->
    <div id="container">
      <?php
      $rem = "<script>document.write(window.localStorage.getItem('cms_username'))</script>";
      setcookie("cms_email", "admin@gmail.com", time() + 86400, "/");

      if (isset($_GET['category'])) {
        $cat_id = $_GET['category'];
      }

      $query = "select category from posts where PID='$cat_id';";
      $data = mysqli_query($con, $query);
      $row = mysqli_fetch_assoc($data);
      $cat = $row['category'];

      $query = "select * from posts where category='$cat';";
      $data = mysqli_query($con, $query);
      while ($row = mysqli_fetch_assoc($data)) {
        $PID = $row["PID"];
        $topic = $row["category"];
        $user = $row["user"];
        $date = $row["date"];
        $time = $row["time"];
        $thumbnail = $row["thumbnail"];
        $content = $row["content"];

        ?>
        <ul class="postID" id=<?php echo $PID ?>>
          <li>
            <?php echo $topic ?>
          </li>
          <li>by
            <?php echo $user ?>
          </li>
          <li>Posted on
            <?php echo $date . " at " . substr($time, 0, 5) ?>
          </li>
          <li><img src=<?php echo $thumbnail ?> alt="" /></li>
          <li>
            <?php echo (strlen($content) > 200) ? substr($content, 0, 200) . "..." : $content ?>
          </li>
        </ul>
      <?php } ?>
    </div>


    <!-- side bar -->
    <div id="sidebar">
      <?php require_once "./includes/searchBar.php" ?>

      <!-- categories -->
      <?php require_once "./includes/category.php" ?>

      <!-- create blog -->
      <button type="submit" id="createBlogBtn">
        <i class="fa-solid fa-pen-to-square"></i>
        Write Your Creative Blog
      </button>
    </div>
  </div>
</body>
<script src="./js/navBtn.js"></script>
<!-- <script src="./js/working.js"></script> -->
<script src="./js/index.js"></script>

</html>
 71 changes: 71 additions & 0 deletions71  
confirmation.php
@@ -0,0 +1,71 @@
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="stylesheet" href="./css/acc.css" />
    <?php require "./includes/links.php" ?>
    <style>
        body {
            height: 100vh !important;
        }
    </style>
    <title>Confirmation | Account</title>
</head>

<body>
    <?php require "./includes/nav.php" ?>
    <?php require "./includes/db.php" ?>

    <div id="container">
        <?php
        $ca = $_COOKIE['cms_ca'];
        $name = "-";
        $phone = "-";

        if ($ca == 'true') {
            $name = $_COOKIE['cms-create-name'];
            $phone = $_COOKIE['cms-create-phone'];
        }

        $email = $_COOKIE['cms-v-email'];
        $password = $_COOKIE['cms-create-pwd'];
        setcookie('cms-v-email', "", time() - 3600);
        setcookie('cms-create-pwd', "", time() - 3600);
        setcookie('cms-create-name', "", time() - 3600);
        setcookie('cms-create-phone', "", time() - 3600);
        setcookie('cms_isValidMail', "", time() - 3600);

        if ($ca == 'true') {
            $query = "insert into users values('$email', '$password', '$name', '$phone');";
            $execute = mysqli_query($con, $query);
            if ($execute) {
                echo "<script>
                    alert('Account created successfully!');
                    window.open('account-login','_self');
                    </script>";
            } else
                echo "Something Wrong!";
        } else {
            $query = "update users set password='$password' where email='$email';";
            $execute = mysqli_query($con, $query);
            if ($execute) {
                echo "<script>
                    alert('Password changed successfully!');
                    window.open('account-login','_self');
                    </script>";
            } else
                echo "Something Wrong!";
        }

        ?>
        <div id="signInContainer" class="container">
            <div id="LogInTitle" class="containerTitle">Done</div>
        </div>
    </div>
</body>

</html>
 39 changes: 39 additions & 0 deletions39  
create-password.php
@@ -0,0 +1,39 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/acc.css" />
  <?php require "./includes/links.php" ?>
  <title>Create Password | Account</title>
</head>

<body>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>

  <div id="container">
    <div id="forgotPwdContainer" class="container-2">
      <label id="forgotPwdTitle" class="containerTitle">Create Password</label>
      <div id="forgotPwdForm" class="containerForm containerForm2">
        <label id="createPwdMsg" class="msg">Email Verified successfully!<br>Create a Password.</label> <br />
        <input id="createPwd" type="text" placeholder="Create Password" />
        <br />
        <input id="confirmPwd" type="password" placeholder="Confirm password" />
        <br />
        <button id="createPwdBtn">Create Password</button>
      </div>
    </div>
  </div>

  <!-- footer -->
  <?php require_once "./includes/footer.php" ?>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/feedback.js"></script>
<script src="./js/account-create-pwd.js"></script>

</html>
 138 changes: 138 additions & 0 deletions138  
createPost.php
@@ -0,0 +1,138 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/createPost.css" />
  <?php require "./includes/links.php" ?>
  <title>Post</title>
</head>

<body>
  <!-- navbar -->
  <?php require "./includes/db.php" ?>
  <?php require "./includes/nav.php" ?>

  <?php
  echo "<script>
          const date = new Date();
          let year = date.getFullYear();
          let month = formatData(date.getMonth() + 1);
          let day = formatData(date.getDate());
          let hour = formatData(date.getHours());
          let mins = formatData(date.getMinutes());
          let secs = formatData(date.getSeconds());
          let ms = formatMillisecond(date.getMilliseconds());
          
          function formatData(num) {
            return num < 10 ? '0' + num : num + '';
          }
          
          function formatMillisecond(num) {
            if (num < 10) return '00' + num;
            if (num < 100) return '0' + num;
            return num + '';
          }
          
          let time = hour + ':' + mins;
          let PID = 'PID' + year + month + day + hour + mins + secs + ms;
          document.cookie = 'cms_create_PID='+PID;
          document.cookie = 'cms_currentTime='+time;
      </script>";

  if (isset($_POST['saveBtn'])) {
    $PID = $_COOKIE['cms_create_PID'];

    $topic = $_POST['postTopic'];
    $postContent = $_POST['postContent'];

    $thumbnail = $_FILES['thumbnail']['name'];
    $array1 = explode('.', $thumbnail);
    $ext1 = end($array1);
    $thumbnail_store = "./thumbnail/" . $PID . "." . $ext1;
    $thumbnail_tmp_name = $_FILES['thumbnail']['tmp_name'];

    $file = $_FILES['file']['name'];
    $array2 = explode('.', $file);
    $ext2 = end($array2);
    $file_store = "./files/" . $PID . "." . $ext2;
    $file_tmp_name = $_FILES['file']['tmp_name'];

    $upload_file = move_uploaded_file($file_tmp_name, $file_store);
    $upload_thumbnail = move_uploaded_file($thumbnail_tmp_name, $thumbnail_store);
    echo $upload_file && $upload_thumbnail;

    date_default_timezone_set('Asia/Kolkata');
    $currentDate = date('l, F j, Y');
    $currentTime = $_COOKIE['cms_currentTime'];

    echo "<script>
    document.cookie = 'cms_username='+ localStorage.getItem('cms_username');
    </script>";
    $email = $_COOKIE['cms_username'];

    echo $currentDate . " : " . $PID . " " . $currentTime . " " . $upload;
    $query = "select name from users where email='" . $email . "';";
    $data = mysqli_query($con, $query);
    $row = mysqli_fetch_assoc($data);
    $name = $row['name'];

    if (strlen($topic) > 0 && strlen($postContent) > 0) {
      try {
        $query = "insert into posts values('$PID', '$email', '$name', '$topic', '$currentDate', '$currentTime', '$thumbnail_store', ' $file_store', '$postContent', 'Posted');";
        $execute = mysqli_query($con, $query);
      } catch (Exception $e) {
       }
    }

    if ($upload_file && $upload_thumbnail && $execute) {
      echo "<script>
                    alert('Post uploaded successfully!');
            </script>";
    } else {
      $query = "delete from posts where PID='$PID';";
      $execute = mysqli_query($con, $query);
      echo "<script>
                    alert('Post not uploaded!');
            </script>";
    }
      echo "<script>
                    let btnValue = 'home';
                    window.localStorage.setItem('requestPage', btnValue);
                    window.open('index', '_self');
            </script>";
  }
  ?>

  <div id="createPostTitle">Create Post</div>

  <div id="createPostContainer">
    <form action="?" method="post" enctype="multipart/form-data">
      <input type="text" id="postTopic" placeholder="Topic..." name="postTopic" /> <br />
      <br />
      <div id="thumbnailTitle">Thumbnail</div>
      <input type="file" id="thumbnail" accept="image/*" name="thumbnail" /> <br />

      <br />
      <div id="imgVideoTitle">Upload Image related to content</div>
      <input type="file" id="acceptImgVideo" accept="image/*" name="file" />
      <br />
      <br />
      <br />
      <textarea id="postContent" placeholder="Write your content here..." name="postContent"></textarea>
      <br />
      <br />
      <button type="submit" id="saveBtn" name="saveBtn">Post</button>
    </form>
  </div>

  <!-- footer -->
  <?php require "./includes/footer.php" ?>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/feedback.js"></script>
<script src="./js/createPost.js"></script>
</html>
 277 changes: 277 additions & 0 deletions277  
css/acc.css
@@ -0,0 +1,277 @@
body {
    align-items: center;
    cursor: default;
    background: linear-gradient(-45deg, rgb(7, 7, 164), #61a5e1);
}

#container {
    margin-top: 8rem;
    width: 30rem;
    height: fit-content;
    border-radius: 8px;
    overflow: hidden;
    display: flex;
    justify-content: center;
    background: rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(2.5px);
    -webkit-backdrop-filter: blur(2.5px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.18);
}

.container {
    margin: 1.5rem 0;
    overflow: hidden;
}

.containerTitle {
    text-align: center;
    font-size: 2rem;
    font-family: 'Ysabeau', sans-serif;
}

.containerForm {
    margin-top: 2rem;
    width: 18rem;
    padding: 1rem;
}

.containerForm div {
    font-size: 1.3rem;
    margin-top: 1rem;
    position: relative;
    left: -0.5rem;
    padding-bottom: 0.1rem;
    cursor: default;
    font-family: 'Ysabeau', sans-serif;
    color: rgb(255, 255, 255);
}

.containerForm input {
    width: 100%;
    font-size: 1.1rem;
    position: relative;
    left: -0.5rem;
    padding: 0.3rem 0.5rem;
    border-radius: 5px;
    outline: none;
    border: 2px solid rgb(168, 171, 212);
}

#container #signInContainer #signInForm .remMe {
    display: flex;
    left: 0.1rem;
    font-size: 1rem;
}

#container #signInContainer #signInForm .remMe label {
    cursor: pointer;
}

#container #signInContainer #signInForm .remMe input {
    width: 1.5rem;
    cursor: pointer;
}

.btnContainer {
    display: flex;
    width: 105%;
    justify-content: space-between;
}

.btnContainer button {
    position: relative;
    padding: 0.4rem 1rem;
    background-color: rgb(61, 61, 225);
    color: rgb(234, 234, 243);
    cursor: pointer;
    font-size: 1rem;
    border-radius: 15px;
    transition: all 0.2s;
}

.btnContainer .submitBtn {
    background-color: rgba(215, 217, 244, 0.8);
    color: rgb(61, 61, 225);
    border: 2px solid rgb(61, 61, 225);
}

.btnContainer .submitBtn:hover {
    background-color: rgb(61, 61, 225);
    color: rgb(215, 217, 244);
    border: 2px solid rgb(16, 7, 81);
}

.container .btnContainer .nextBtn {
    background-color: transparent;
    color: rgb(203, 203, 203);
    border: 2px solid transparent;
}

.container .btnContainer .nextBtn:hover {
    border: 2px solid rgb(199, 230, 255);
    color: rgb(199, 230, 255);
    border-radius: 15px;
}

#container #signInContainer #signInForm #forgottenPwd {
    display: Inline-block;
    margin-top: 01.3rem;
    transition: all 0.2s;
    color: rgba(255, 255, 255, 0.705);
    background-color: transparent;
    border: none;
    position: relative;
    left: 9rem;
    font-size: 1rem;
    text-decoration: underline;
    text-align: left;
    cursor: pointer;
    font-family: 'Ysabeau', sans-serif;
}

#container #signInContainer #signInForm #forgottenPwd:hover {
    color: rgb(221, 228, 243);
}

/* **************************************************************** */
.container-2 {
    display: flex;
    flex-direction: column;
    overflow: hidden;
    margin: 1.5rem 0;
}

#container #forgotPwdContainer #forgotPwdTitle {
    text-align: center;
    font-size: 2rem;
    font-family: 'Ysabeau', sans-serif;
}

#container #forgotPwdContainer #forgotPwdForm {
    margin-top: 2rem;
    width: 18rem;
    display: flex;
    flex-direction: column;
    padding: 1rem;
}

.msg {
    font-size: 1.2rem;
    margin-top: 1rem;
    width: 105%;
    margin-left: -0.5rem;
    ;
    position: relative;
    cursor: default;
    font-family: 'Montserrat', sans-serif;
    color: rgba(255, 255, 255, 0.87);
    border-radius: 5px;
    padding: 0.1rem 0 0.2rem 0;
    text-align: center;
}

#container #forgotPwdContainer #forgotPwdForm input {
    width: 100%;
    font-size: 1.1rem;
    position: relative;
    left: -0.5rem;
    padding: 0.3rem 0.5rem;
    border-radius: 5px;
    outline: none;
    border: 2px solid rgb(168, 171, 212);
}

#container #forgotPwdContainer #forgotPwdForm button {
    position: relative;
    padding: 0.4rem 1rem;
    color: rgb(113, 42, 14);
    background-color: rgb(235, 194, 150);
    border: 2px solid rgb(103, 66, 22);
    cursor: pointer;
    font-size: 1rem;
    border-radius: 15px;
    transition: all 0.2s;
}

.confirmOTPBtn {
    color: rgb(33, 110, 5);
    background-color: rgb(157, 235, 150);
    border: 2px solid rgb(33, 110, 5);
}

.createPasswordBtn {
    color: rgb(227, 235, 247);
    background-color: #6665ed;
    border: 2px solid rgb(227, 235, 247);
}

#container #SignUpContainer {
    margin: 1.5rem 0;
}

#container #SignUpContainer #SignUpTitle {
    text-align: center;
    font-size: 2rem;
    font-family: 'Ysabeau', sans-serif;
}

#container #SignUpContainer #signUpForm {
    margin-top: 2rem;
    width: 23rem;
    padding: 1rem;
}

#container #SignUpContainer #signUpForm div {
    font-size: 1.3rem;
    margin-top: 1rem;
    position: relative;
    left: -0.5rem;
    padding-bottom: 0.25rem;
    cursor: default;
    font-family: 'Ysabeau', sans-serif;
    color: rgb(255, 255, 255);
}

#container #SignUpContainer #signUpForm input {
    width: 100%;
    font-size: 1.1rem;
    position: relative;
    left: -0.5rem;
    padding: 0.3rem 0.5rem;
    border-radius: 5px;
    outline: none;
    border: 2px solid rgb(168, 171, 212);
}

#container #SignUpContainer #signUpForm .btnContainer {
    display: flex;
    position: relative;
    margin-top: 2rem;
    width: 105%;
    justify-content: space-between;
}

#container #SignUpContainer #signUpForm .btnContainer button {
    position: relative;
    padding: 0.4rem 1rem;
    background-color: rgb(61, 61, 225);
    color: rgb(234, 234, 243);
    cursor: pointer;
    font-size: 1rem;
    border-radius: 15px;
    transition: all 0.2s;
}

#confirmOTP {
    background-color: rgba(203, 255, 202, 0.8) !important;
    color: rgb(21, 165, 16) !important;
    border: 2px solid rgb(21, 165, 16) !important;
}

#createPwdBtn {
    background-color: rgba(240, 202, 255, 0.8) !important;
    color: rgb(118, 16, 165) !important;
    border: 2px solid rgb(118, 16, 165) !important;
}
 152 changes: 152 additions & 0 deletions152  
css/createPost.css
@@ -0,0 +1,152 @@
@import url('https://fonts.googleapis.com/css2?family=Murecho:wght@300&display=swap');

body {
    width: 100vw;
    min-height: 100vh;
    cursor: default;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: linear-gradient(135deg, rgb(148, 185, 209), rgb(37, 112, 188));
}

#createPostTitle {
    margin: 5rem 0 2rem 0;
    text-align: center;
    font-size: 2rem;
    font-weight: 600;
    font-family: 'Ysabeau', sans-serif;
}

#createPostContainer {
    height: fit-content;
    display: flex;
    flex-direction: column;
    width: 75vw;
    cursor: default;
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 15px;
}

#createPostContainer #postTopic {
    width: 75%;
    position: relative;
    margin-top: 2.5rem;
    left: 12%;
    font-family: 'Murecho', sans-serif;
    padding: 0.3rem 0.4rem;
    font-size: 1.2rem;
    border-radius: 5px;
    outline: none;
    background-color: transparent;
    border: none;
    border-bottom: 2px solid #eaeaeaa7;
    letter-spacing: 0.4px;
    margin-bottom: 0.3rem;
    text-decoration: none;
}

#createPostContainer div {
    width: 75%;
    position: relative;
    left: 12.5%;
    font-size: 1.2rem;
    margin: 0 1.2rem 0 0.1rem;
    padding-bottom: 0.1rem;
    font-family: 'Ysabeau', sans-serif;
}
/* 
#createPostContainer #createPostTopic {
    width: 75%;
    position: relative;
    margin-top: 2.5rem;
    left: 12%;
    font-weight: 600;
    font-family: 'Murecho', sans-serif;
    padding: 0.3rem 0.4rem;
    font-size: 1.2rem;
    border-radius: 5px;
    outline: none;
    letter-spacing: 0.4px;
    text-decoration: none;
} */

/* #createPostContainer #createDateandTime {
    width: 75%;
    position: relative;
    left: 12.5%;
    font-size: 1.25rem;
    padding-bottom: 0.2rem;
    margin-bottom: 1rem;;
    border: 2px solid transparent;
    background-color: transparent;
    border-bottom: 2px solid rgb(224, 234, 239);
} */

#createPostContainer #thumbnail, #createPostContainer #acceptImgVideo {
    position: relative;
    left: 12.5%;
    width: 75%;
    font-size: 1.1rem;
    background-color: rgba(255, 255, 255, 0.2);

    padding: 0.1rem 0;
    border: 2px solid transparent;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.3s;
}

#createPostContainer #thumbnail:hover, #createPostContainer #acceptImgVideo:hover {
    border: 2px solid rgba(224, 234, 239, 0.6);
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.05);
}

#postContent {
    position: relative;
    resize: none;
    left: calc(12.5% - 0.15rem);
    width: 75%;
    height: 16rem;
    outline: none;
    font-size: 1.2rem;
    font-family: 'Murecho', sans-serif;
    border: 2px solid transparent;
    border-radius: 5px;
    letter-spacing: 0.5px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0.15));
    padding: 0.3rem 0.3rem;
    -webkit-overflow-scrolling: none;
}

#postContent::-webkit-scrollbar {
    display: none;
}

#createPostContainer #saveBtn {
    position: relative;
    left: 12.5%;
    width: 6rem;
    font-size: 1rem;
    padding: 0.28rem 0rem;
    cursor: pointer;
    text-align: center;
    border-radius: 7px;
    color: aliceblue;
    margin-bottom: 2.5rem;
    letter-spacing: 0.3px;
    border: 2px solid rgba(255, 255, 255, 0.6);
    background-color: #41a2f6;
    transition: all 0.2s;
}

#createPostContainer #saveBtn:hover {

    background-color: #2d81fe;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}
 52 changes: 52 additions & 0 deletions52  
css/editPost.css
@@ -0,0 +1,52 @@
body {
    width: 100vw;
    min-height: 100vh;
    cursor: default;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: linear-gradient(135deg, rgb(148, 209, 203), rgb(77, 152, 213));
}

#createPostContainer #saveBtn {
    position: relative;
    left: 12.5%;
    width: 6rem;
    font-size: 1rem;
    padding: 0.28rem 0rem;
    cursor: pointer;
    text-align: center;
    border-radius: 7px;
    color: aliceblue;
    margin-bottom: 2.5rem;
    letter-spacing: 0.3px;
    border: 2px solid rgba(255, 255, 255, 0.6);
    background-color: #466cf7;
    transition: all 0.2s;
}

#createPostContainer #saveBtn:hover {
    background-color: #2d5afe;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}

#deleteBtn {
    position: absolute;
    top: 12rem;
    left: 79%;
    width: 1.7rem;
    fill: rgba(57, 42, 129, 0.774);
    background-color: transparent;
    transition: all 0.2s;
    border: none;
    cursor: pointer;
}

#deleteBtn:hover {
    fill: rgb(219, 3, 3);
}

#createPostContainer img {
    width: 40%;
    margin-left: 12.8%;
}
 31 changes: 31 additions & 0 deletions31  
css/editbtns.css
@@ -0,0 +1,31 @@
@import url('https://fonts.googleapis.com/css2?family=Murecho:wght@300&display=swap');

.fnBtnContainer {
    font-family: 'Ysabeau', sans-serif;
    width: 75%;
    position: relative;
    display: flex;
    justify-content: flex-end;
    margin-top: 1rem;
    margin-left: 12.5%;
    transition: all 0.3s;
}

.fnBtnContainer button {
    font-size: 0.7rem;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.1s;
}

.fnBtnContainer #editBtn {
    border: 2px solid rgb(72, 72, 72);
    color: rgb(72, 72, 72);
    padding: 0.4rem 0.7rem;
    background-color: rgba(126, 126, 254, 0.265);
}

.fnBtnContainer #editBtn:hover {
    color: blue;
    border: 2px solid blue;
}
 538 changes: 538 additions & 0 deletions538  
css/index.css
Large diffs are not rendered by default.

 48 changes: 48 additions & 0 deletions48  
css/myProfile.css
@@ -0,0 +1,48 @@
#searchBox {
    height: fit-content !important;
    cursor: default;
}

#searchBoxTitle {
    text-align: center;
    margin-top: 1.7rem;
}

#profileContainer {
    width: 80%;
    margin: 1.7rem 0;
}

#profileContainer div {
    margin: 0.5rem 0;
}

#logOutBtn {
    width: 80%;
    height: 2.5rem;
    border-radius: 10px;
    margin: 2vh 0 2rem 2rem;
    outline: none;
    cursor: pointer;
    color: whitesmoke;
    text-align: center;
    font-size: 1.2rem;
    padding: 0.2rem 0;
    font-family: 'Montserrat', sans-serif;
    background-color: #c34b4b;
    transition: all 0.3s ease-out;
    border: 2px solid rgba(163, 120, 120, 0.2);
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.15);
}

#logOutBtn:hover {
    background-color: #b62a2a;
}

#container ul .postID {
    cursor: pointer;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none;
    visibility: hidden;
}
 128 changes: 128 additions & 0 deletions128  
css/viewPost.css
@@ -0,0 +1,128 @@
@import url('https://fonts.googleapis.com/css2?family=Murecho:wght@300&display=swap');

body {
    width: 100vw;
    min-height: 100vh;
    cursor: default;
    display: flex;
    flex-direction: column;
    align-items: center;
    background: linear-gradient(135deg, rgb(148, 185, 209), rgb(37, 112, 188));
}

#viewPostTitle {
    margin: 5rem 0 2rem 0;
    text-align: center;
    font-size: 2rem;
    font-weight: 600;
    font-family: 'Ysabeau', sans-serif;
}

#viewPostContainer {
    height: fit-content;
    display: flex;
    flex-direction: column;
    cursor: default;
    width: 75vw;
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
    border-radius: 10px;
    border: 1px solid rgba(255, 255, 255, 0.18);
    border-radius: 15px;
}

#viewPostContainer div {
    font-family: 'Ysabeau', sans-serif;
}

#viewPostContainer #viewPostTopic {
    width: 75%;
    position: relative;
    margin-top: 2.5rem;
    left: 12%;
    font-weight: 600;
    font-family: 'Murecho', sans-serif;
    padding: 0.3rem 0.4rem;
    font-size: 1.2rem;
    border-radius: 5px;
    outline: none;
    letter-spacing: 0.4px;
    text-decoration: none;
}

#viewPostContainer #viewDateandTime {
    width: 75%;
    position: relative;
    left: 12.5%;
    font-size: 1.3rem;
    padding-bottom: 0.2rem;
    margin-bottom: 1rem;
    ;
    border: 2px solid transparent;
    background-color: transparent;
    border-bottom: 2px solid rgb(224, 234, 239);
}

#viewPostContainer #viewThumbnail, #viewPostContainer #viewImage {
    cursor: default;
}

#viewPostContainer #viewThumbnail, #viewPostContainer #viewVideo, #viewPostContainer #viewImage {
    position: relative;
    left: 12.5%;
    width: 75%;
    font-size: 1rem;
    background-color: rgba(255, 255, 255, 0.2);
    margin: 1.5rem 0;
    border: 2px solid transparent;
    border-radius: 5px;
    transition: all 0.3s;
}

#viewPostContainer #viewVideo {
    cursor: pointer;
}

#viewPostContainer #acceptImgVideo:hover {
    border: 2px solid rgba(224, 234, 239, 0.6);
    box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.05);
}

#viewPostContainer #viewPostContent {
    position: relative;
    left: calc(7.5% - 0.2rem);
    width: 85%;
    outline: none;
    font-size: 1.2rem;
    font-family: 'Murecho', sans-serif;
    border: 2px solid transparent;
    border-radius: 5px;
    letter-spacing: 0.5px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.22), rgba(255, 255, 255, 0.15));
    padding: 0.5rem 0.4rem;
    -webkit-overflow-scrolling: none;
}

#viewPostContainer #backBtn {
    position: relative;
    left: 12.5%;
    width: 6rem;
    font-size: 1rem;
    padding: 0.28rem 0rem;
    cursor: pointer;
    text-align: center;
    border-radius: 7px;
    color: aliceblue;
    margin-bottom: 2.5rem;
    letter-spacing: 0.3px;
    border: 2px solid rgba(255, 255, 255, 0.6);
    background-color: #f64141;
    transition: all 0.2s;
}

#viewPostContainer #backBtn:hover {
    background-color: #fe2d2d;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}
 130 changes: 130 additions & 0 deletions130  
editPost.php
@@ -0,0 +1,130 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/createPost.css" />
  <link rel="stylesheet" href="./css/editPost.css" />
  <?php require "./includes/links.php" ?>
  <title>Edit Post</title>
</head>

<body>
<?php require "includes/db.php" ?>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>

  <?php $PID = $_COOKIE['cms_PID'];
      echo $PID;
      $query = 'select * from posts where PID="' . $PID . '"';
      $result = mysqli_query($con, $query);
      if (!$result) {
        echo "could not find";
      } else {
        $row = mysqli_fetch_assoc($result);
        $topic = $row["category"];
        $user = $row["user"];
        $date = $row["date"];
        $time = $row["time"];
        $email = $row["email"];
        $thumbnail = $row["thumbnail"];
        $file = $row["file"];
        setcookie("cms_cf", $file, time() + 86400, "/");
        $content = $row["content"];
      }

      if(isset($_POST['saveBtn'])) {
        $new_topic = $_POST['postTopic'];
        $new_content = $_POST['postContent'];

        if (strlen($new_topic) > 0 && strlen($new_content) > 0) {
          try {
            $query = 'update posts set category = "' . $new_topic . '", content = "' . $new_content . '", status = "Edited" where PID="' . $PID . '";';
            $execute = mysqli_query($con, $query);
          } catch (Exception $e) {
           }
        }

        if ($execute) {
          echo "<script>
                        alert('Post updated successfully!');
                        let btnValue = 'home';
                        window.localStorage.setItem('requestPage', btnValue);
                        window.open('viewPost', '_self');
                </script>";
        } else {
          echo "<script>
                        alert('Post not updated!');
                </script>";
        }
      }

  echo '<script> document.cookie = "cms_delpost=n"; 
            function confirmDel() {
              if(confirm("Are you sure you want to delete this post?")){
                  document.cookie = "cms_delpost=y";
              }
            }
            </script>';

  if(isset($_POST['deleteBtn'])) {

    if ($_COOKIE['cms_delpost'] == 'y') {
      echo '<script> document.cookie = "cms_delpost=n"; </script>';

      try {
        $query = 'delete from posts where PID="' . $PID . '";';
        $execute = mysqli_query($con, $query);
        unlink($file);
        unlink($thumbnail);
      } catch (Exception $e) {
      }

      if ($execute) {
        echo "<script>
                      alert('Post deleted successfully!');
                      let btnValue = 'home';
                      window.localStorage.setItem('requestPage', btnValue);
                      window.open('index', '_self');
              </script>";
      } else {
        echo "<script>
                      alert('Post not deleted!');
              </script>";
      }
    }
  }
  ?>

  <div id="createPostTitle">Edit Post</div>

  <div id="createPostContainer">
    <form action="?" method="post" enctype="multipart/form-data">
    <input type="text" name="postTopic" id="postTopic" placeholder="Topic..." value="<?php echo $topic ?>"/> <br />
    <div id="thumbnailTitle">Thumbnail</div>
    <img src=<?php echo $thumbnail ?> id="viewThumbnail"/> <br>

    <div id="thumbnailTitle">Image related to content</div>
    <img src=<?php echo $file ?> alt="" id="viewImage">
    <br />
    <textarea name="postContent" id="postContent" placeholder="Write your content here..."><?php echo $content ?></textarea>
    <br />
    <button type="submit" id="saveBtn" name="saveBtn">Save</button>
  </div>
  <button type="submit" id="deleteBtn" name='deleteBtn' onclick="confirmDel()">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
      <path
        d="M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z" />
    </svg>
  </button>
  </form>

  <!-- footer -->
  <?php require_once "./includes/footer.php" ?>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/feedback.js"></script>
</html>
 36 changes: 36 additions & 0 deletions36  
email-verify.php
@@ -0,0 +1,36 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/acc.css" />
  <?php require "./includes/links.php" ?>
  <title>Email Verification | Account</title>
</head>

<body>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>

  <div id="container">
    <div id="forgotPwdContainer" class="container-2">
      <label class="containerTitle">Email Verification</label>
      <div id="forgotPwdForm" class="containerForm containerForm2">
        <label class="msg">Enter your email address.</label> <br />
        <input id="email" class="text" type="text" placeholder="Enter email address" />
        <br />
        <button id="sendOTP">Send OTP</button>
      </div>
    </div>
  </div>

  <!-- footer -->
  <?php require_once "./includes/footer.php" ?>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/feedback.js"></script>
<script src="./js/account-email-verify.js"></script>
</html>
 Binary file addedBIN +37.2 KB 
files/PID20230510005930739.jpg
Unable to render rich display

 Binary file addedBIN +557 KB 
files/PID20230510010531727.jpg
Unable to render rich display

 Binary file addedBIN +557 KB 
files/PID20230510041732827.jpg
Unable to render rich display

 Binary file addedBIN +58.5 KB 
files/PID20230517152353552.webp
Binary file not shown.
 15 changes: 15 additions & 0 deletions15  
includes/category.php
@@ -0,0 +1,15 @@
<div id="categoryBox">
    <div id="categoryTitle">Blog Categories</div>
    <div id="categories">
        <?php
        $query = "select distinct * from posts order by PID desc limit 5";
        $data = mysqli_query($con, $query);

        while ($row = mysqli_fetch_assoc($data)) {
            $cat_id = $row['PID'];
            $cat = $row['category'];
            echo "<li><a class='catBtn' href='category.php?category={$cat_id}'>" . $cat . "</a></li>";
        } ?>

    </div>
</div>
 6 changes: 6 additions & 0 deletions6  
includes/db.php
@@ -0,0 +1,6 @@
<?php
    $con = mysqli_connect("localhost", "root", "2507", "cms_project");
    if(!$con) {
        die("not connected");
    }
?>
 38 changes: 38 additions & 0 deletions38  
includes/footer.php
@@ -0,0 +1,38 @@
<footer id="footer">
          <div id="slideContainer">
            <div id="slide1">
              <div id="desc">
                <div id="title">CMS (Content Management System)</div>
                <div id="details">
                  Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ut
                  voluptates, suscipit cupiditate temporibus.
                </div>
              </div>
              <div id="socialBtnContainer">
                <a href="https://www.facebook.com/prasant.chandrapoddar?mibextid=ZbWKwL"><i class="fa-brands fa-square-facebook"></i></a>
                <a href="https://www.instagram.com/prasant.cp"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://www.linkedin.com/in/prasantcp"><i class="fa-brands fa-linkedin"></i></a>
              </div>
              <div id="feedbackBtnContainer">
                <button type="submit" id="feedbackBtn">Share your feedback!</button>
              </div>
            </div>
    
            <div id="slide2">
              <div id="feedbackFormContainer">
                <button id="feedbackBackBtn">
                  <i class="fa-solid fa-backward"></i>
                </button>
                <div id="feedback">
                  <div id="title">Write your Feedback!</div>
                  <textarea
                    id="feedbackContent"
                    placeholder="Write here..."
                  ></textarea>
                  <button id="shareFeedback" type="submit">Share</button>
                </div>
              </div>
            </div>
          </div>
          <div id="developed">developed by @prasant</div>
        </footer>
 2 changes: 2 additions & 0 deletions2  
includes/links.php
@@ -0,0 +1,2 @@
<script src="https://kit.fontawesome.com/5099b17d5e.js" crossorigin="anonymous"></script>
<script src="https://smtpjs.com/v3/smtp.js"></script>
 9 changes: 9 additions & 0 deletions9  
includes/nav.php
@@ -0,0 +1,9 @@
    <!-- navbar -->
    <nav id="navbar">
      <div class="nameOfProject">CMS System</div>
      <ul>
        <li><button id="homePageBtn">Home</button></li>
        <li><button id="createPageBtn">Create</button></li>
        <li><button id="profilePageBtn">Profile</button></li>
      </ul>
    </nav>
 16 changes: 16 additions & 0 deletions16  
includes/searchBar.php
@@ -0,0 +1,16 @@

      <!-- search box -->
      <form action="search.php" method="POST">
        <div id="searchBox">
          <div id="searchBoxTitle">Search the Blog</div>
          <div id="searchField">
            <input type="text" name="searchText" id="searchText" />
            <button type="submit" name="searchBtn" id="searchTheBlog">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                <path
                  d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
              </svg>
            </button>
          </div>
        </div>
      </form>
 76 changes: 76 additions & 0 deletions76  
index.php
@@ -0,0 +1,76 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css"/>
  <?php require "./includes/links.php" ?>
  <title>CMS Project</title>
</head>

<body>
  <?php require "includes/db.php" ?>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>

  <div id="main">
    <!--content -->
    <div id="container">
      <?php
      $rem = "<script>document.write(window.localStorage.getItem('cms_username'))</script>";
      // setcookie("cms_email", "admin@gmail.com", time() + 86400 * 365, "/");
      $query = "select * from posts order by PID desc;";
      $data = mysqli_query($con, $query);
      while ($row = mysqli_fetch_assoc($data)) {
        $PID = $row["PID"];
        $topic = $row["category"];
        $user = $row["user"];
        $date = $row["date"];
        $time = $row["time"];
        $thumbnail = $row["thumbnail"];
        $content = $row["content"];

        echo "<script>
              document.cookie = 'cms_username='+ localStorage.getItem('cms_username');
            </script>";
        ?>
        <ul class="postID" id=<?php echo $PID ?>>
          <li>
            <?php echo $topic ?>
          </li>
          <li>by
            <?php echo $user ?>
          </li>
          <li>Posted on
            <?php echo $date . " at " . substr($time, 0, 5) ?>
          </li>
          <li><img src=<?php echo $thumbnail ?> alt="" /></li>
          <li>
            <?php echo (strlen($content) > 200) ? substr($content, 0, 200) . "..." : $content ?>
          </li>
        </ul>
      <?php } ?>
    </div>

    <!-- side bar -->
    <div id="sidebar">
      <?php require_once "./includes/searchBar.php" ?>

      <!-- categories -->
      <?php require_once "./includes/category.php" ?>

      <!-- create blog -->
      <button type="submit" id="createBlogBtn">
        <i class="fa-solid fa-pen-to-square"></i>
        Write Your Creative Blog
      </button>
    </div>
  </div>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/index.js"></script>
<script>
</script>
</html>
 34 changes: 34 additions & 0 deletions34  
js/account-create-pwd.js
@@ -0,0 +1,34 @@
let createPwd = document.getElementById("createPwd").value;
let confirmPwd = document.getElementById("confirmPwd").value;

let createPwdBtn = document.getElementById("createPwdBtn");
let ca = getCookie("cms_ca");

createPwdBtn.addEventListener("click", () => {
  createPwd = document.getElementById("createPwd").value;
  confirmPwd = document.getElementById("confirmPwd").value;
  if (createPwd.length < 4) {
    alert("Password must be atleast of 4 character!");
    return;
  }

  if (createPwd == confirmPwd) {
    document.cookie = "cms-create-pwd=" + createPwd;

    if (ca == "true") {
      alert("Account has been created successfully!");
    } else {
      alert("Password has been changed successfully!");
    }
    window.open("./confirmation", "_self");
  } else {
    alert("Both the password must be same!");
  }
});

function getCookie(name) {
  return (
    (name = (document.cookie + ";").match(new RegExp(name + "=.*;"))) &&
    name[0].split(/=|;/)[1]
  );
}
 6 changes: 6 additions & 0 deletions6  
js/account-email-verify.js
@@ -0,0 +1,6 @@
let sendOTP = document.getElementById("sendOTP");

sendOTP.addEventListener("click", () => {
  document.cookie = "cms-v-email=" + document.getElementById("email").value;
  window.open("./otp-verification", "_self");
});
 53 changes: 53 additions & 0 deletions53  
js/account-login.js
@@ -0,0 +1,53 @@
let email_ = "admin@gmail.com";
let password_ = "0000";

console.log("login");

let signInBtn = document.getElementById("signInBtn");
let rememberMe = document.getElementById("rememberme");
let createAccSlideBtn = document.getElementById("createAccSlideBtn");
let forgotPwdSlideBtn = document.getElementById("forgottenPwd");

createAccSlideBtn.addEventListener("click", () => {
  document.cookie = "cms_ca=true";
  window.open("./account-signup", "_self");
});

forgotPwdSlideBtn.addEventListener("click", () => {
  document.cookie = "cms_ca=false";
  window.open("./email-verify", "_self");
});

signInBtn.addEventListener("click", () => {
  let usrname = document.getElementById("username");
  let pwd = document.getElementById("password");

  if (
    (usrname.value.length <= 5 || pwd.value.length < 4) &&
    !validateEmail(usrname.value)
  ) {
    alert(
      "Invalid email or password!\nIf you forget your password then go to forgot password."
    );
    return;
  }

  document.cookie = "cms_username=" + usrname.value;
  document.cookie = "cms_password=" + pwd.value;
  window.localStorage.setItem("cms_passwordRem", "false");
  window.localStorage.setItem("cms_username", usrname.value);
  window.localStorage.setItem("cms_password", "");
  if (rememberMe.checked) {
    document.cookie = "cms_passwordRem=true";
    window.localStorage.setItem("cms_password", pwd.value);
    window.localStorage.setItem("cms_passwordRem", "true");
  }
  document.cookie = "cms_passwordRem=false";
  window.open("account-login-confirm", "_self");
});

function validateEmail(input) {
  var validRegex =
    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
  return input.match(validRegex) ? true : false;
}
 54 changes: 54 additions & 0 deletions54  
js/account-otp-verification.js
@@ -0,0 +1,54 @@
let confirmOTP = document.getElementById("confirmOTP");
let userOTP = document.getElementById("forgotPwdinput1");
let isValidMail = getCookie("cms_isValidMail");

let sentOTP = "";
let recieveOTP = "";
let myemail = "";

confirmOTP.addEventListener("click", () => {
  recieveOTP = userOTP.value;
  if (checkOTP()) {
    window.close("./otp-verification");
    window.open("./create-password", "_self");
  } else {
    userOTP.value = "";
    alert(
      "OTP has not matched!\nnote: try-again or refresh to re-generate the OTP!"
    );
  }
});

function getCookie(name) {
  return (
    (name = (document.cookie + ";").match(new RegExp(name + "=.*;"))) &&
    name[0].split(/=|;/)[1]
  );
}

if (isValidMail == "true") {
  myemail = getCookie("cms-v-email");
  sentOTP = generateOTP();
  sendOTP(sentOTP);
  alert(
    "OTP has been successfully sent to your email address.\nnote: please check SPAM section!"
  );
}

function generateOTP() {
  return Math.floor(Math.random() * 1000000);
}

function checkOTP() {
  return sentOTP + "" == recieveOTP + "" ? true : false;
}

function sendOTP(otp) {
  Email.send({
    SecureToken: "cea665f0-f786-4cee-b1b8-fd14858636d1",
    To: myemail,
    From: "prasantpoddar27@gmail.com",
    Subject: "CMS OTP verification",
    Body: "Your OTP is: " + otp,
  }).then((message) => alert(message));
}
 14 changes: 14 additions & 0 deletions14  
js/account-signup.js
@@ -0,0 +1,14 @@
let signUpBtn = document.getElementById("signUp");
let logInAccSlideBtn = document.getElementById("loginAccSlideBtn");

signUpBtn.addEventListener("click", () => {
  document.cookie =
    "cms-create-name=" + document.getElementById("fullname").value;
  document.cookie =
    "cms-create-phone=" + document.getElementById("phone").value;
  window.open("./email-verify", "_self");
});

logInAccSlideBtn.addEventListener("click", () => {
  window.open("./account-login", "_self");
});
 44 changes: 44 additions & 0 deletions44  
js/createPost.js
@@ -0,0 +1,44 @@
// const months = [
//   'January',
//   'February',
//   'March',
//   'April',
//   'May',
//   'June',
//   'July',
//   'August',
//   'September',
//   'October',
//   'November',
//   'December',
// ];
// const date = new Date();
// let year = date.getFullYear();
// let month = formatData(date.getMonth() + 1);
// let day = formatData(date.getDate());
// let hour = formatData(date.getHours());
// let mins = formatData(date.getMinutes());
// let secs = formatData(date.getSeconds());
// let ms = formatMillisecond(date.getMilliseconds());

// let time = hour + ":" + mins;
// document.cookie = 'cms_currentTime='+time;

// let monthName = months[date.getMonth()];

// function formatData(num) {
//   return num < 10 ? '0' + num : num + '';
// }

// function formatMillisecond(num) {
//   if (num < 10) return '00' + num;
//   if (num < 100) return '0' + num;
//   return num + '';
// }

// let PID = 'PID' + year + month + day + hour + mins + secs + ms;
// document.cookie = 'cms_create_PID='+PID;
// console.log(PID);
// console.log(postDate);
// console.log(working);

 Empty file added0  
js/editPost.js
Empty file.
 46 changes: 46 additions & 0 deletions46  
js/feedback.js
@@ -0,0 +1,46 @@
let feedbackBtn = document.getElementById("feedbackBtn");
let shareFeedback = document.getElementById("shareFeedback");
let feedbackSlide1 = document.getElementById("slide1");
let feedbackSlide2 = document.getElementById("slide2");
let feedbackTextarea = document.getElementById("feedbackContent");
let feedbackBackBtn = document.getElementById("feedbackBackBtn");

let feedbackMsg = "";

feedbackBtn.addEventListener("click", () => {
  feedbackSlide1.style.width = "0vw";
  feedbackSlide2.style.width = "100vw";
});

shareFeedback.addEventListener("click", () => {
  feedbackMsg = feedbackTextarea.value + "";
  feedbackTextarea.value = "";
  let alertMsg = "";
  if (feedbackMsg.length == 0) {
    alertMsg = "Please write a feedback message to share!";
    alert(alertMsg);
    return;
  }

  shareFeedbackMail(feedbackMsg);
  alertMsg = "Feedback sent!\nThank you for sharing your feedback:)";
  alert(alertMsg);
  feedbackSlide1.style.width = "100vw";
  feedbackSlide2.style.width = "0vw";
});

feedbackBackBtn.addEventListener("click", () => {
  feedbackSlide1.style.width = "100vw";
  feedbackSlide2.style.width = "0vw";
  feedbackTextarea.value = "";
});

function shareFeedbackMail(msg) {
  Email.send({
    SecureToken: "cea665f0-f786-4cee-b1b8-fd14858636d1",
    To: "prasantpoddar27@gmail.com",
    From: "prasantpoddar27@gmail.com",
    Subject: "CMS Project Feedback",
    Body: msg,
  }).then((message) => alert(message));
}
 25 changes: 25 additions & 0 deletions25  
js/index.js
@@ -0,0 +1,25 @@
let createBlogBtn = document.getElementById("createBlogBtn");

let getPostID = document.getElementsByClassName("postID");
let PostID = "";
for (let i = 0; i < getPostID.length; i++) {
    getPostID[i].addEventListener("click", () => {
    PostID = getPostID[i].id;
    window.localStorage.setItem("cms_PID", PostID);
    document.cookie = "cms_PID=" + PostID;
    window.open("./viewPost.php", "_self");
  });
}

createBlogBtn.addEventListener("click", () => {
  btnValue = "create";
  window.localStorage.setItem("requestPage", btnValue);
  window.localStorage.setItem("hello", "opened");

  if (
    email == window.localStorage.getItem("cms_username") &&
    password == window.localStorage.getItem("cms_password")
  )
    window.open("createPost");
  else window.open("account-login");
});
 22 changes: 22 additions & 0 deletions22  
js/myProfile.js
@@ -0,0 +1,22 @@
let logOutBtn = document.getElementById("logOutBtn");

let getPostID = document.getElementsByClassName("postID");
let PostID = "";
for (let i = 0; i < getPostID.length; i++) {
    getPostID[i].addEventListener("click", () => {
      PostID = getPostID[i].id;
      window.localStorage.setItem("cms_PID", PostID);
      document.cookie = "cms_PID=" + PostID;
      window.open("./viewPost.php", "_self");
  });
}

logOutBtn.addEventListener("click", () => {
  window.localStorage.setItem("cms_username", "");
  window.localStorage.removeItem("cms_password");
  window.localStorage.removeItem("cms_passwordRem");

  window.open("account-login", "_self");
  close("profile.php");
});

 64 changes: 64 additions & 0 deletions64  
js/navBtn.js
@@ -0,0 +1,64 @@
let expires = new Date(Date.now() + 86400 * 1000 * 30).toUTCString;

document.cookie = "cms_email=" + window.localStorage.getItem("cms_username");

let homePageBtn = document.getElementById("homePageBtn");
let createPageBtn = document.getElementById("createPageBtn");
let profilePageBtn = document.getElementById("profilePageBtn");

homePageBtn.addEventListener("click", goToHomePage);
createPageBtn.addEventListener("click", goToCreatePage);
profilePageBtn.addEventListener("click", goToProfilePage);

function goToHomePage() {
  btnValue = "home";
  window.localStorage.setItem("requestPage", btnValue);
  window.open("index", "_self");
}


let email = window.localStorage.getItem("cms_username");
let password = window.localStorage.getItem("cms_password");

function goToCreatePage() {
  btnValue = "create";
  window.localStorage.setItem("requestPage", btnValue);
  document.cookie = "requestPage=" + btnValue;
  if (email != null && password != null) {
    document.cookie =
      "cms_username=" +
      window.localStorage.getItem("cms_username") +
      "; expires=" +
      expires +
      "; path=/;";
    document.cookie =
      "cms_password=" +
      window.localStorage.getItem("cms_password") +
      "; expires=" +
      expires +
      "; path=/;";
    window.open("./account-login-confirm", "_self");
  } else window.open("account-login", "_self");
}

function goToProfilePage() {
  btnValue = "profile";
  document.cookie = "requestPage=" + btnValue;
  window.localStorage.setItem("requestPage", btnValue);
  if (email != null && password != null) {
    document.cookie =
      "cms_username=" +
      window.localStorage.getItem("cms_username") +
      "; expires=" +
      expires +
      "; path=/;";
    document.cookie =
      "cms_password=" +
      window.localStorage.getItem("cms_password") +
      "; expires=" +
      expires +
      "; path=/;";
    window.open("./profile", "_self");
  } else window.open("account-login", "_self");
}

 58 changes: 58 additions & 0 deletions58  
js/view.js
@@ -0,0 +1,58 @@
let viewPostTitle = document.getElementById("viewPostTitle");

let file = getCookie("cms_cf");
let fileType = extCheck(file);
let imgView = document.getElementById("viewImage");
let videoView = document.getElementById("viewVideo");
let backBtn = document.getElementById("backBtn");

backBtn.addEventListener("click", () => {
  history.back();
});

function getCookie(name) {
  return (
    (name = (document.cookie + ";").match(new RegExp(name + "=.*;"))) &&
    name[0].split(/=|;/)[1]
  );
}

function extCheck(fileName) {
  if ((fileName + "").length <= 0 || fileName.charAt(fileName.length-1) == '.') {
    console.log(fileName);
    return "-";
  }
  var ext = fileName.substr(fileName.lastIndexOf(".") + 1);
  let imageExt = ["jpg", "jpeg", "png", "gif"];
  for (let i = 0; i < imageExt.length; i++) {
    if (ext.toLowerCase() == imageExt[i]) {
      return "image";
    }
  }

  let vidExt = ["mov", "mp4", "3gp", "ogg"];
  for (let i = 0; i < vidExt.length; i++) {
    if (ext.toLowerCase() == imageExt[i]) {
      return "video";
    }
  }

  return "Non";
}

function setFile(viewFileType) {
  if (viewFileType == "image") {
    imgView.style.visibility = "visible";
    videoView.style.visibility = "hidden";
    videoView.style.width = "0";
  } else if (viewFileType == "video") {
    videoView.style.visibility = "visible";
    videoView.style.width = "75%";
    imgView.style.visibility = "hidden";
  } else {
    videoView.style.visibility = "hidden";
    imgView.style.visibility = "hidden";
  }
}

setFile(extCheck(file));
 60 changes: 60 additions & 0 deletions60  
otp-verification.php
@@ -0,0 +1,60 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/acc.css" />
  <?php require "./includes/links.php" ?>
  <title>OTP Verification | Account</title>
</head>

<body>
  <!-- navbar -->
  <?php require "./includes/db.php" ?>
  <?php require_once "./includes/nav.php" ?>
  <?php
  // echo "<script>window.open('./index.php', '_self')</script>";
  $vemail = $_COOKIE['cms-v-email'];
  $ca = $_COOKIE['cms_ca'];

  $query = "select * from users where email='" . $vemail . "';";
  $data = mysqli_query($con, $query);
  $exist = (mysqli_num_rows($data) == 0) ? "false" : "true";

  if ($ca == 'true' && $exist == 'false') {
    setcookie("cms_isValidMail", "true");
  } else if ($ca == 'false' && $exist == 'true') {
    setcookie("cms_isValidMail", "true");
  } else {
    if ($ca == 'true')
      echo "<script>alert('This email already exist!')</script>";
    else
      echo "<script>alert('No account with this email!')</script>";
    echo "<script>window.open('./email-verify', '_self')</script>";
    setcookie("cms_isValidMail", "false");
  }
  ?>

  <div id="container">
    <div id="forgotPwdContainer" class="container-2">
      <label id="forgotPwdTitle" class="containerTitle">OTP Verification</label>
      <div id="forgotPwdForm" class="containerForm containerForm2">
        <label id="forgotPwdMsg" class="msg">OTP sent!<br>Please enter the OTP.</label> <br />
        <input id="forgotPwdinput1" type="text" placeholder="Enter the OTP" />
        <br />
        <button id="confirmOTP" class="confirmOTPBtn">Confirm OTP</button>
      </div>
    </div>
  </div>

  <!-- footer -->
  <?php require_once "./includes/footer.php" ?>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/account-otp-verification.js"></script>
<script src="./js/feedback.js"></script>

</html>
 109 changes: 109 additions & 0 deletions109  
profile.php
@@ -0,0 +1,109 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/myProfile.css">
  <?php require "./includes/links.php" ?>
  <title>Profile</title>
</head>

<body>
  <?php require "includes/db.php" ?>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>



  <div id="main">
    <!--content -->
    <div id="container">
      <?php
      $cEmail = $_COOKIE['cms_username'];
      $query = 'select * from posts where email="' . $cEmail . '"order by PID desc;';
      $profileQuery = 'select * from users where email ="' . $cEmail . '"';
      $numberOfPostQuery = 'select count(*) as count from posts where email="' . $cEmail . '"';
      $data = mysqli_query($con, $query);
      if (mysqli_num_rows($data) == 0) {
        echo "<h2>No Post Yet</h2>";
      } else {
        while ($row = mysqli_fetch_assoc($data)) {
          $PID = $row["PID"];
          $topic = $row["category"];
          $user = $row["user"];
          $date = $row["date"];
          $time = $row["time"];
          $thumbnail = $row["thumbnail"];
          $content = $row["content"];
          ?>
          <ul class="postID" id=<?php echo $PID ?>>
            <li>
              <?php echo $topic ?>
            </li>
            <li>by
              <?php echo $user ?>
            </li>
            <li>Posted on
              <?php echo $date . " at " . substr($time, 0, 5) ?>
            </li>
            <li><img src=<?php echo $thumbnail ?> alt="" /></li>
            <li>
              <?php echo (strlen($content) > 200) ? substr($content, 0, 200) . "..." : $content ?>
            </li>
          </ul>
        <?php }
      }
      $result = mysqli_query($con, $profileQuery);
      if (!$result) {
        echo "could not find";
      } else {
        $row = mysqli_fetch_assoc($result);
        $userName = $row["name"];
        $userMail = $row["email"];
        $userPhone = $row["phone"];
      }

      $result = mysqli_query($con, $numberOfPostQuery);
      if (!$result) {
        echo "could not find";
      } else {
        $row = mysqli_fetch_assoc($result);
        $userPosts = $row['count'];
      }
      ?>
    </div>

    <!-- side bar -->
    <div id="sidebar">
      <!-- search box -->
      <div id="searchBox">
        <div id="searchBoxTitle">Your Profile</div>
        <div id="profileContainer">
          <div id="name">
            <?php echo $userName ?>
          </div>
          <div id="mobile">
            <?php echo $userPhone ?>
          </div>
          <div id="email">
            <?php echo $userMail ?>
          </div>
          <div id="totalBlogs">
            <?php echo ($userPosts > 1) ? $userPosts . " Blogs" : $userPosts . " Blog" ?>
          </div>
        </div>
      </div>
      <!-- create blog -->
      <button type="submit" id="logOutBtn">
        Log Out
      </button>
    </div>
  </div>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/myProfile.js"></script>

</html>
 84 changes: 84 additions & 0 deletions84  
search.php
@@ -0,0 +1,84 @@
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/index.css" />
    <?php require "./includes/links.php" ?>
    <title>CMS Project</title>
</head>

<body>
    <?php require "includes/db.php" ?>
    <!-- navbar -->
    <?php require_once "./includes/nav.php" ?>

    <div id="main">
        <!--content -->
        <div id="container">
            <?php
            $rem = "<script>document.write(window.localStorage.getItem('cms_username'))</script>";
            setcookie("cms_email", "admin@gmail.com", time() + 86400, "/");

            if (isset($_POST['searchBtn'])) {
                $search = $_POST['searchText'];
                $query = "select * from posts where category like '%$search%'";
                $data = mysqli_query($con, $query);

                if (mysqli_num_rows($data)) {

                    while ($row = mysqli_fetch_assoc($data)) {
                        $PID = $row["PID"];
                        $topic = $row["category"];
                        $user = $row["user"];
                        $date = $row["date"];
                        $time = $row["time"];
                        $thumbnail = $row["thumbnail"];
                        $content = $row["content"];
                        ?>
                        <ul class="postID" id=<?php echo $PID ?>>
                            <li>
                                <?php echo $topic ?>
                            </li>
                            <li>by
                                <?php echo $user ?>
                            </li>
                            <li>Posted on
                                <?php echo $date . " at " . substr($time, 0, 5) ?>
                            </li>
                            <li><img src=<?php echo $thumbnail ?> alt="" /></li>
                            <li>
                                <?php echo (strlen($content) > 200) ? substr($content, 0, 200) . "..." : $content ?>
                            </li>
                        </ul>
                        <?php
                    }
                } else
                    echo "Ops, Record not found!";
            }
            ?>
        </div>

        <!-- side bar -->
        <div id="sidebar">
            <!-- search box -->
            <?php require_once "./includes/searchBar.php" ?>

            <!-- categories -->
            <?php require_once "./includes/category.php" ?>

            <!-- create blog -->
            <button type="submit" id="createBlogBtn">
                <i class="fa-solid fa-pen-to-square"></i>
                Write Your Creative Blog
            </button>
        </div>
    </div>
</body>
<script src="./js/navBtn.js"></script>
<!-- <script src="./js/working.js"></script> -->
<script src="./js/index.js"></script>

</html>
 Binary file addedBIN +532 KB 
thumbnail/PID20230510005930739.jpg
Unable to render rich display

 Binary file addedBIN +50.3 KB 
thumbnail/PID20230510010531727.png
Unable to render rich display

 Binary file addedBIN +252 KB 
thumbnail/PID20230510041732827.png
Unable to render rich display

 Binary file addedBIN +326 KB 
thumbnail/PID20230517152353552.jpg
Unable to render rich display

 133 changes: 133 additions & 0 deletions133  
viewPost.php
@@ -0,0 +1,133 @@
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/index.css" />
  <link rel="stylesheet" href="./css/viewPost.css" />
  <link rel="stylesheet" href="./css/editbtns.css" />
  <?php require "./includes/links.php" ?>
  <title>View Post</title>
</head>

<body>
  <?php require "includes/db.php" ?>
  <!-- navbar -->
  <?php require_once "./includes/nav.php" ?>

  <?php $PID = $_COOKIE['cms_PID'];
  echo $PID;
  $query = 'select * from posts where PID="' . $PID . '"';
  $result = mysqli_query($con, $query);
  if (!$result) {
    echo "could not find";
  } else {
    $row = mysqli_fetch_assoc($result);
    $topic = $row["category"];
    $user = $row["user"];
    $date = $row["date"];
    $time = $row["time"];
    $email = $row["email"];
    $thumbnail = $row["thumbnail"];
    $file = $row["file"];
    setcookie("cms_cf", $file, time() + 86400, "/");
    $content = $row["content"];
  }

  if(isset($_POST['editBtn'])) {
    echo "<script>
              window.open('editPost', '_self');
          </script>";
  }
  ?>

  <div id="viewPostTitle">
    <?php echo $topic ?>
  </div>

  <div id="viewPostContainer">
  <?php
    if ($email == $_COOKIE['cms_email']) {
      echo "<script>
        function goToEditPost() {
          window.open('editPost', '_self');
        }
      </script>";
      echo "
        <div class='fnBtnContainer'>
          <button type='submit' name='editBtn' id='editBtn' onclick='goToEditPost()'><i class='fa-solid fa-pen-to-square'></i> Edit</button>
        </div>";
    }
  ?>
    <div id="viewPostTopic">
      <?php echo $user ?>
    </div>
    <div id="viewDateandTime">Posted on
      <?php echo $date . " at " . substr($time, 0, 5) ?>
    </div>
    <img src=<?php echo $thumbnail ?> id="viewThumbnail" />
    <img src=<?php echo $file ?> alt="" id="viewImage">
    <video src="<?php echo $file ?>" id="viewVideo" controls></video>
    <br />
    <div id="viewPostContent">
      <?php echo $content ?>
    </div>
    <br />
    <button type="submit" id="backBtn">Back</button>
  </div>

  <!-- footer -->
  <footer id="footer">
    <div id="joinNowContainer">
      <div id="text">
        <span class="lineH">Manage your creativity!</span><br />
        <span class="lineF">Explore the latest trends and innovations in tech, one byte at a
          time.</span>
      </div>
      <button type="submit" id="joinNowBtn" onclick="location.href='./account-login'">
        Join Now
      </button>
    </div>
    <div id="slideContainer">
      <div id="slide1">
        <div id="desc">
          <div id="title">CMS (Content Management System)</div>
          <div id="details">
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ut
            voluptates, suscipit cupiditate temporibus.
          </div>
        </div>
        <div id="socialBtnContainer">
          <a href="https://www.facebook.com/prasant.chandrapoddar?mibextid=ZbWKwL"><i
              class="fa-brands fa-square-facebook"></i></a>
          <a href="https://www.instagram.com/prasant.cp"><i class="fa-brands fa-instagram"></i></a>
          <a href="https://www.linkedin.com/in/prasantcp"><i class="fa-brands fa-linkedin"></i></a>
        </div>
        <div id="feedbackBtnContainer">
          <button type="submit" id="feedbackBtn">Share your feedback!</button>
        </div>
      </div>

      <div id="slide2">
        <div id="feedbackFormContainer">
          <button id="feedbackBackBtn">
            <i class="fa-solid fa-backward"></i>
          </button>
          <div id="feedback">
            <div id="title">Write your Feedback!</div>
            <textarea id="feedbackContent" placeholder="Write here..."></textarea>
            <button id="shareFeedback" type="submit">Share</button>
          </div>
        </div>
      </div>
    </div>
    <div id="developed">developed by @prasant</div>
  </footer>
</body>
<script src="./js/navBtn.js"></script>
<script src="./js/feedback.js"></script>
<script src="./js/view.js"></script>

</html>
